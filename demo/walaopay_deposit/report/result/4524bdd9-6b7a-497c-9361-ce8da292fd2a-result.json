{"name": "test_walaopay[data0]", "status": "broken", "statusDetails": {"message": "NameError: name 'alaoPay' is not defined", "trace": "self = <test_walaopay_deposti.Test_addEwallet object at 0x08E51838>, data = {'主账号': 1000005349.0, '交易账号': 672006152.0, '入金前余额': '', '入金后余额': '', ...}\n\n    @allure.feature('bos判断walaopay入金方式是否开启，判断当前账号是否存在该入金方式，测试最低最高金额入金')\n    @allure.story('用例执行')\n    @allure.description('读取测试文档数据，执行用例')\n    @pytest.mark.parametrize('data',testdata)\n    @pytest.mark.flaky(reruns=2, reruns_delay=2) #失败重跑\n    def test_walaopay(self,data):\n        print('当前测试数据：主账号：{}，邮箱：{}'.format(int(data['主账号']),data['邮箱']))\n        with allure.step('获取当前测试数据下标'):\n            self.data_index=testdata.index(data)\n        if self.data_index!=0:\n            walaoPay.remove_login_topup()\n    \n        with allure.step('判断当前账号是否存在walaopay入金方式，不存在则添加walaopay入金方式'):\n            walaoPay.is_have_walaopay(int(data['主账号']))\n    \n        with allure.step('登录cp'):\n            walaoPay.logincp(data['邮箱'],data['密码'])\n    \n        with allure.step('首页获取当前交易账号余额并保存到本地，获取walaopay入金方式最低最高入金金额'):\n            walaoPay.get_highestAndlowest(int(data['交易账号']),excelpath,'E',self.data_index+2)\n    \n        with allure.step('最低最高金额入金'):\n            walaoPay.action(int(data['交易账号']))\n    \n            with open(walaoPay.path1,'rb') as f:\n                comtent=f.read()\n            allure.attach(comtent,'低于最低金额入金',allure.attachment_type.PNG)\n            with open(walaoPay.path2,'rb') as f:\n                comtent=f.read()\n            allure.attach(comtent,'高于最高金额入金',allure.attachment_type.PNG)\n    \n            with allure.step('断言汇率是否与数据库一致,转换金额是否计算正确'):\n                pytest.assume(walaoPay.exchangeRate==walaoPay.baseCharge)\n>               pytest.assume(walaoPay.exchangeAmount==round(walaoPay.lowestDeposit*alaoPay.baseCharge))\nE               NameError: name 'alaoPay' is not defined\n\ndemo\\walaopay_deposit\\action_bin\\test_walaopay_deposti.py:82: NameError"}, "description": "读取测试文档数据，执行用例", "steps": [{"name": "获取当前测试数据下标", "status": "passed", "start": 1632390587762, "stop": 1632390587763}, {"name": "判断当前账号是否存在walaopay入金方式，不存在则添加walaopay入金方式", "status": "passed", "start": 1632390587763, "stop": 1632390619308}, {"name": "登录cp", "status": "passed", "start": 1632390619308, "stop": 1632390632919}, {"name": "首页获取当前交易账号余额并保存到本地，获取walaopay入金方式最低最高入金金额", "status": "passed", "start": 1632390632919, "stop": 1632391280475}, {"name": "最低最高金额入金", "status": "broken", "statusDetails": {"message": "NameError: name 'alaoPay' is not defined\n", "trace": "  File \"c:\\Users\\tyler.tang\\Desktop\\code\\tylerhub\\demo\\walaopay_deposit\\action_bin\\test_walaopay_deposti.py\", line 82, in test_walaopay\n    pytest.assume(walaoPay.exchangeAmount==round(walaoPay.lowestDeposit*alaoPay.baseCharge))\n"}, "steps": [{"name": "断言汇率是否与数据库一致,转换金额是否计算正确", "status": "broken", "statusDetails": {"message": "NameError: name 'alaoPay' is not defined\n", "trace": "  File \"c:\\Users\\tyler.tang\\Desktop\\code\\tylerhub\\demo\\walaopay_deposit\\action_bin\\test_walaopay_deposti.py\", line 82, in test_walaopay\n    pytest.assume(walaoPay.exchangeAmount==round(walaoPay.lowestDeposit*alaoPay.baseCharge))\n"}, "start": 1632391327303, "stop": 1632391328384}], "attachments": [{"name": "低于最低金额入金", "source": "9308b41a-28b1-4ddd-8eb4-6046d3e336a3-attachment.png", "type": "image/png"}, {"name": "高于最高金额入金", "source": "71ceb750-463a-46d0-9e78-267e1ca73441-attachment.png", "type": "image/png"}], "start": 1632391280475, "stop": 1632391328385}], "parameters": [{"name": "data", "value": "{'主账号': 1000005349.0, '邮箱': 'tyler.tang@test.com', '密码': 'Tl123456', '交易账号': 672006152.0, '入金前余额': '', '入金后余额': ''}"}], "start": 1632390561304, "stop": 1632391328386, "uuid": "7b9a6189-8b84-4a26-9ac0-c11fb106d2eb", "historyId": "9a3b4b2171680ce3817a49a43373fd33", "testCaseId": "7e5a22978e87330779b752f2941531a6", "fullName": "demo.walaopay_deposit.action_bin.test_walaopay_deposti.Test_addEwallet#test_walaopay", "labels": [{"name": "epic", "value": "walao pay入金"}, {"name": "feature", "value": "bos判断walaopay入金方式是否开启，判断当前账号是否存在该入金方式，测试最低最高金额入金"}, {"name": "story", "value": "用例执行"}, {"name": "tag", "value": "flaky(reruns=2, reruns_delay=2)"}, {"name": "parentSuite", "value": "demo.walaopay_deposit.action_bin"}, {"name": "suite", "value": "test_walaopay_deposti"}, {"name": "subSuite", "value": "Test_addEwallet"}, {"name": "host", "value": "SZ01-QA-G-10"}, {"name": "thread", "value": "26200-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "demo.walaopay_deposit.action_bin.test_walaopay_deposti"}]}